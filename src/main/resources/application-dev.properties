# ========== CONFIGURA√á√ïES DE DESENVOLVIMENTO ==========
# Este arquivo √© carregado automaticamente quando QUARKUS_PROFILE=dev
# Usado para desenvolvimento LOCAL (MacBook)
#
# ‚ö†Ô∏è  BANCO SEPARADO: quarkus_dev (N√ÉO usa quarkus_db de produ√ß√£o!)

# ========== DATABASE (DEV) ==========
# Banco ISOLADO para desenvolvimento - seguro limpar/resetar
quarkus.datasource.jdbc.url=jdbc:postgresql://${DB_DEV_HOST:localhost}:${DB_DEV_PORT:5432}/${DB_DEV_NAME:quarkus_dev}
quarkus.datasource.username=${DB_DEV_USERNAME:quarkus}
quarkus.datasource.password=${DB_DEV_PASSWORD:quarkus123}

# ========== HTTP/HTTPS (DEV) ==========
quarkus.http.host=0.0.0.0
quarkus.http.port=8083

# SSL (Apenas para desenvolvimento local)
# Esta dessa forma por estou testando loclalmente com HTTPS tamb√©m
quarkus.http.ssl.port=8443
quarkus.http.ssl.certificate.key-store-file=security/keystore.p12
quarkus.http.ssl.certificate.key-store-password=quarkus
quarkus.http.insecure-requests=disabled

# ========== FLYWAY (DEV) ==========
# ‚ö†Ô∏è  ATEN√á√ÉO: clean-at-start=true DELETA TODOS OS DADOS!
# Habilitado apenas em DEV (quarkus_dev) por seguran√ßa
# Se quiser preservar dados de dev, mude para false temporariamente
quarkus.flyway.clean-at-start=true
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true

# ========== HIBERNATE (DEV) ==========
# Desabilita valida√ß√£o de schema (Flyway controla)
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.validate-in-dev-mode=false
quarkus.hibernate-orm.log.sql=true

# ========== LOGS (DEV) ==========
quarkus.log.level=DEBUG
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
# ========== SWAGGER UI / OpenAPI (DEV ONLY) ==========
# Habilita o Swagger UI apenas em modo de desenvolvimento
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.enable=true
quarkus.swagger-ui.path=/q/swagger-ui

# Informa√ß√µes da API exibidas no Swagger
quarkus.smallrye-openapi.info-title=Mobile REST API
quarkus.smallrye-openapi.info-version=1.0.0

# ========== OWNERSHIP VALIDATION (DEV) ==========
# üîí SEGURAN√áA: Chave secreta para valida√ß√£o HMAC (desenvolvimento)
# Usa vari√°vel de ambiente do .env para evitar hardcoding (Sonar compliance)
# Gere uma chave com: openssl rand -hex 32
ownership.validation.secret=${OWNERSHIP_VALIDATION_SECRET}
quarkus.smallrye-openapi.info-description=API REST para gerenciamento de conte√∫dos e usu√°rios
quarkus.smallrye-openapi.info-contact-name=Equipe de Desenvolvimento
quarkus.smallrye-openapi.info-contact-email=dev@aguideptbr.com.br
