# ========== CONFIGURAÇÕES DE TESTE ==========
# Este arquivo é carregado automaticamente quando @QuarkusTest executa

# ========== AUTENTICAÇÃO (DESABILITADA EM TESTES) ==========
# Desabilita o AuthenticationFilter para permitir testes sem token
quarkus.arc.exclude-types=br.com.aguideptbr.auth.AuthenticationFilter

# ========== HTTP (TEST) ==========
quarkus.http.port=8081
quarkus.http.test-port=8081

# ========== DATABASE (TEST) ==========
# Usa PostgreSQL com database dedicado para testes (usa mesmas credenciais de produção)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL:jdbc:postgresql://quarkus_postgres:5432/quarkus_test}
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME:quarkus}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD:quarkus123}

# ========== FLYWAY (TEST) ==========
# Limpa e recria o banco a cada execução de teste
quarkus.flyway.clean-at-start=true
quarkus.flyway.migrate-at-start=true

# ========== HIBERNATE (TEST) ==========
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false

# ========== LOGS (TEST) ==========
quarkus.log.level=INFO
quarkus.log.console.enable=true
