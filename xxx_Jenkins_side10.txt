Started by user Cleidson Pereira Machado

Lightweight checkout support not available, falling back to full checkout.
Checking out git https://github.com/cleidson-machado/aguide-api-quarkus.git/ into /var/jenkins_home/workspace/api_aguide_quarkus_build_3@script/130b9c0cd511448bfb36c6692e93bb109b6be010859e74a316b92aeac90cf9cb to read Jenkinsfile
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/api_aguide_quarkus_build_3@script/130b9c0cd511448bfb36c6692e93bb109b6be010859e74a316b92aeac90cf9cb/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/cleidson-machado/aguide-api-quarkus.git/ # timeout=10
Fetching upstream changes from https://github.com/cleidson-machado/aguide-api-quarkus.git/
 > git --version # timeout=10
 > git --version # 'git version 2.47.3'
 > git fetch --tags --force --progress -- https://github.com/cleidson-machado/aguide-api-quarkus.git/ +refs/heads/*:refs/remotes/origin/* # timeout=10
Seen branch in repository origin/develop-data-objects
Seen branch in repository origin/main
Seen 2 remote branches
 > git show-ref --tags -d # timeout=10
Checking out Revision a9bf9487e41a3f2db61e118338737d023c1e4b84 (origin/develop-data-objects)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f a9bf9487e41a3f2db61e118338737d023c1e4b84 # timeout=10
Commit message: "fix: Update test to match PaginatedResponse field names"
 > git rev-list --no-walk a9bf9487e41a3f2db61e118338737d023c1e4b84 # timeout=10
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins
 in /var/jenkins_home/workspace/api_aguide_quarkus_build_3
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/api_aguide_quarkus_build_3/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/cleidson-machado/aguide-api-quarkus.git/ # timeout=10
Fetching upstream changes from https://github.com/cleidson-machado/aguide-api-quarkus.git/
 > git --version # timeout=10
 > git --version # 'git version 2.47.3'
 > git fetch --tags --force --progress -- https://github.com/cleidson-machado/aguide-api-quarkus.git/ +refs/heads/*:refs/remotes/origin/* # timeout=10
Seen branch in repository origin/develop-data-objects
Seen branch in repository origin/main
Seen 2 remote branches
 > git show-ref --tags -d # timeout=10
Checking out Revision a9bf9487e41a3f2db61e118338737d023c1e4b84 (origin/develop-data-objects)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f a9bf9487e41a3f2db61e118338737d023c1e4b84 # timeout=10
Commit message: "fix: Update test to match PaginatedResponse field names"
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Pipeline Info)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
================================================
[Pipeline] echo
üìä INFORMA√á√ïES DO JENKINS PIPELINE
[Pipeline] echo
================================================
[Pipeline] echo
üÜî Build ID: 15
[Pipeline] echo
üî¢ Build Number: 15
[Pipeline] echo
üìù Job Name: api_aguide_quarkus_build_3
[Pipeline] echo
üîó Build URL: https://nauto.aguide-ptbr.com.br/job/api_aguide_quarkus_build_3/15/
[Pipeline] echo
üë§ Iniciado por: Cleidson Pereira Machado
[Pipeline] echo
üåø Branch Git: origin/develop-data-objects
[Pipeline] echo
üìÇ Workspace: /var/jenkins_home/workspace/api_aguide_quarkus_build_3
[Pipeline] echo
üè† Jenkins Home: /var/jenkins_home
[Pipeline] echo
üñ•Ô∏è  Node Name: built-in
[Pipeline] echo
‚è∞ Timestamp: Thu Jan 22 21:05:43 UTC 2026
[Pipeline] echo
================================================
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Maven)
[Pipeline] echo
üî® Compilando projeto com Maven (SEM testes)...
[Pipeline] sh
+ ./mvnw clean package -DskipTests
[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------< br.com.aguideptbr:mobile-rest-api >------------------
[INFO] Building mobile-rest-api 1.0.0-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.2.0:clean (default-clean) @ mobile-rest-api ---
[INFO] Deleting /var/jenkins_home/workspace/api_aguide_quarkus_build_3/target
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ mobile-rest-api ---
[INFO] Copying 7 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- quarkus:3.23.3:generate-code (default) @ mobile-rest-api ---
[INFO] 
[INFO] --- compiler:3.14.0:compile (default-compile) @ mobile-rest-api ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 8 source files with javac [debug parameters release 17] to target/classes
[INFO] 
[INFO] --- quarkus:3.23.3:generate-code-tests (default) @ mobile-rest-api ---
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ mobile-rest-api ---
[INFO] skip non existing resourceDirectory /var/jenkins_home/workspace/api_aguide_quarkus_build_3/src/test/resources
[INFO] 
[INFO] --- compiler:3.14.0:testCompile (default-testCompile) @ mobile-rest-api ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 1 source file with javac [debug parameters release 17] to target/test-classes
[INFO] 
[INFO] --- surefire:3.5.3:test (default-test) @ mobile-rest-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- jar:3.4.1:jar (default-jar) @ mobile-rest-api ---
[INFO] Building jar: /var/jenkins_home/workspace/api_aguide_quarkus_build_3/target/mobile-rest-api-1.0.0-SNAPSHOT.jar
[INFO] 
[INFO] --- quarkus:3.23.3:build (default) @ mobile-rest-api ---

[INFO] [io.quarkus.deployment.QuarkusAugmentor] Quarkus augmentation completed in 4183ms
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  12.003 s
[INFO] Finished at: 2026-01-22T21:05:56Z
[INFO] ------------------------------------------------------------------------
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (SonarQube Analysis)
[Pipeline] echo
üîç Executando an√°lise do SonarQube...
[Pipeline] script
[Pipeline] {
[Pipeline] tool
[Pipeline] withSonarQubeEnv
Injecting SonarQube environment variables using the configuration: SonarQube
[Pipeline] {
[Pipeline] sh
+ export QUARKUS_DATASOURCE_JDBC_URL=jdbc:postgresql://quarkus_postgres:5432/quarkus_db
+ /var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/Default_Maven/bin/mvn clean verify sonar:sonar -Dsonar.projectKey=aguide-api-quarkus -Dsonar.projectName=Aguide API Quarkus

[INFO] Scanning for projects...

[WARNING] The artifact org.codehaus.mojo:sonar-maven-plugin:jar:4.0.0.4121 has been relocated to org.sonarsource.scanner.maven:sonar-maven-plugin:jar:4.0.0.4121: SonarQube plugin was moved to SonarSource organisation
[INFO] 
[INFO] -----------------< br.com.aguideptbr:mobile-rest-api >------------------
[INFO] Building mobile-rest-api 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------

[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ mobile-rest-api ---
[INFO] Deleting /var/jenkins_home/workspace/api_aguide_quarkus_build_3/target
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mobile-rest-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 7 resources
[INFO] 
[INFO] --- quarkus-maven-plugin:3.23.3:generate-code (default) @ mobile-rest-api ---

[INFO] 
[INFO] --- maven-compiler-plugin:3.14.0:compile (default-compile) @ mobile-rest-api ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 8 source files with javac [debug parameters release 17] to target/classes

[INFO] 
[INFO] --- quarkus-maven-plugin:3.23.3:generate-code-tests (default) @ mobile-rest-api ---

[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mobile-rest-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /var/jenkins_home/workspace/api_aguide_quarkus_build_3/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.14.0:testCompile (default-testCompile) @ mobile-rest-api ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 1 source file with javac [debug parameters release 17] to target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.5.3:test (default-test) @ mobile-rest-api ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------

[INFO] Running br.com.aguideptbr.features.user.UserResourceTest
21:06:18 INFO  [or.hi.jp.in.ut.LogHelper] (main) HHH000204: Processing PersistenceUnitInfo [name: <default>]
21:06:18 INFO  [or.hi.Version] (main) HHH000412: Hibernate ORM core version 6.6.17.Final
21:06:19 INFO  [or.hi.or.co.pooling] (main) HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown

21:06:20 INFO  [or.fl.co.FlywayExecutor] (main) Database: jdbc:postgresql://quarkus_postgres:5432/quarkus_db (PostgreSQL 16.10)
21:06:20 INFO  [or.fl.co.in.co.DbValidate] (main) Successfully validated 3 migrations (execution time 00:00.035s)
21:06:20 INFO  [or.fl.co.in.co.DbMigrate] (main) Current version of schema "public": 1.0.2
21:06:20 INFO  [or.fl.co.in.co.DbMigrate] (main) Schema "public" is up to date. No migration necessary.

21:06:21 INFO  [io.quarkus] (main) mobile-rest-api 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.23.3) started in 9.854s. Listening on: http://localhost:8081
21:06:21 INFO  [io.quarkus] (main) Profile test activated. 
21:06:21 INFO  [io.quarkus] (main) Installed features: [agroal, cdi, compose, flyway, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, narayana-jta, resteasy, resteasy-jackson, smallrye-context-propagation, vertx]

[Hibernate] 
    select
        count(*) 
    from
        app_user um1_0
[Hibernate] 
    select
        um1_0.id,
        um1_0.email,
        um1_0.name,
        um1_0.passwd,
        um1_0.surname 
    from
        app_user um1_0 
    offset
        ? rows 
    fetch
        first ? rows only

[Hibernate] 
    select
        um1_0.id,
        um1_0.email,
        um1_0.name,
        um1_0.passwd,
        um1_0.surname 
    from
        app_user um1_0
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.638 s -- in br.com.aguideptbr.features.user.UserResourceTest
21:06:24 INFO  [io.quarkus] (main) mobile-rest-api stopped in 0.068s
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ mobile-rest-api ---
[INFO] Building jar: /var/jenkins_home/workspace/api_aguide_quarkus_build_3/target/mobile-rest-api-1.0.0-SNAPSHOT.jar
[INFO] 
[INFO] --- quarkus-maven-plugin:3.23.3:build (default) @ mobile-rest-api ---

[INFO] [io.quarkus.deployment.QuarkusAugmentor] Quarkus augmentation completed in 4307ms
[INFO] 
[INFO] --- maven-failsafe-plugin:3.5.3:integration-test (default) @ mobile-rest-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- quarkus-maven-plugin:3.23.3:native-image-agent (default) @ mobile-rest-api ---
[INFO] Missing native-image-agent-base-config directory with native image agent configuration to transform
[INFO] 
[INFO] --- maven-failsafe-plugin:3.5.3:verify (default) @ mobile-rest-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] -----------------< br.com.aguideptbr:mobile-rest-api >------------------
[INFO] Building mobile-rest-api 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- sonar-maven-plugin:4.0.0.4121:sonar (default-cli) @ mobile-rest-api ---
[WARNING] 21:06:29.424 Using an unspecified version instead of an explicit plugin version may introduce breaking analysis changes at an unwanted time. It is highly recommended to use an explicit version, e.g. 'org.sonarsource.scanner.maven:sonar-maven-plugin:4.0.0.4121'.
[INFO] 21:06:29.438 Java 21.0.9 Eclipse Adoptium (64-bit)
[INFO] 21:06:29.438 Linux 6.8.0-90-generic (amd64)
[INFO] 21:06:29.439 MAVEN_OPTS= -Dmaven.repo.local=/var/jenkins_home/.m2/repository
[INFO] 21:06:29.636 User cache: /var/jenkins_home/.sonar/cache
[INFO] 21:06:29.695 Communicating with SonarQube Server 26.1.0.118079
[INFO] 21:06:29.710 Default locale: "en", source code encoding: "UTF-8"
[WARNING] 21:06:29.992 Property 'env.SONARQUBE_SCANNER_PARAMS' is encrypted. The encryption of scanner properties is deprecated and will soon be removed.

[INFO] 21:06:30.640 Load global settings
[INFO] 21:06:30.777 Load global settings (done) | time=137ms
[INFO] 21:06:30.796 Server id: FE3AD04C-AZvR1JTpTYeV2D1pLNno
[INFO] 21:06:30.803 Loading required plugins
[INFO] 21:06:30.804 Load plugins index
[INFO] 21:06:30.839 Load plugins index (done) | time=35ms
[INFO] 21:06:30.840 Load/download plugins

[INFO] 21:06:31.684 Load/download plugins (done) | time=844ms
[INFO] 21:06:32.039 Process project properties
[INFO] 21:06:32.060 Process project properties (done) | time=21ms
[INFO] 21:06:32.074 Project key: aguide-api-quarkus
[INFO] 21:06:32.074 Base dir: /var/jenkins_home/workspace/api_aguide_quarkus_build_3
[INFO] 21:06:32.074 Working dir: /var/jenkins_home/workspace/api_aguide_quarkus_build_3/target/sonar
[INFO] 21:06:32.082 Load project settings for component key: 'aguide-api-quarkus'
[INFO] 21:06:32.118 Load project settings for component key: 'aguide-api-quarkus' (done) | time=36ms
[INFO] 21:06:32.165 Load quality profiles
[INFO] 21:06:32.384 Load quality profiles (done) | time=219ms
[INFO] 21:06:32.399 Auto-configuring with CI 'Jenkins'
[INFO] 21:06:32.434 Load active rules

[INFO] 21:06:33.007 Load active rules (done) | time=573ms
[INFO] 21:06:33.013 Load analysis cache
[INFO] 21:06:33.024 Load analysis cache (404) | time=11ms
[INFO] 21:06:33.114 Preprocessing files...
[INFO] 21:06:33.248 2 languages detected in 10 preprocessed files (done) | time=133ms
[INFO] 21:06:33.248 0 files ignored because of scm ignore settings
[INFO] 21:06:33.251 Loading plugins for detected languages
[INFO] 21:06:33.251 Load/download plugins

[INFO] 21:06:33.717 Load/download plugins (done) | time=466ms
[INFO] 21:06:33.825 Load project repositories
[INFO] 21:06:33.986 Load project repositories (done) | time=161ms
[INFO] 21:06:34.022 Indexing files...
[INFO] 21:06:34.023 Project configuration:
[INFO] 21:06:34.044 10 files indexed (done) | time=21ms
[INFO] 21:06:34.046 Quality profile for java: Sonar way
[INFO] 21:06:34.046 Quality profile for xml: Sonar way
[INFO] 21:06:34.047 ------------- Run sensors on module Aguide API Quarkus
[INFO] 21:06:34.147 Load metrics repository
[INFO] 21:06:34.175 Load metrics repository (done) | time=29ms

[INFO] 21:06:35.046 Sensor JavaSensor [java]
[INFO] 21:06:35.050 Configured Java source version (sonar.java.source): 17, preview features enabled (sonar.java.enablePreview): false
[INFO] 21:06:35.097 Server-side caching is enabled. The Java analyzer will not try to leverage data from a previous analysis.
[INFO] 21:06:35.101 Using ECJ batch to parse 8 Main java source files with batch size 104 KB.
[INFO] 21:06:35.468 Starting batch processing.

[INFO] 21:06:36.361 The Java analyzer cannot skip unchanged files in this context. A full analysis is performed for all files.

[INFO] 21:06:37.794 100% analyzed
[INFO] 21:06:37.794 Batch processing: Done.
[INFO] 21:06:37.795 Did not optimize analysis for any files, performed a full analysis for all 8 files.
[INFO] 21:06:37.797 Using ECJ batch to parse 1 Test java source files with batch size 104 KB.
[INFO] 21:06:37.802 Starting batch processing.
[INFO] 21:06:37.869 100% analyzed
[INFO] 21:06:37.869 Batch processing: Done.
[INFO] 21:06:37.871 Did not optimize analysis for any files, performed a full analysis for all 1 files.
[INFO] 21:06:37.871 No "Generated" source files to scan.
[INFO] 21:06:37.872 Sensor JavaSensor [java] (done) | time=2827ms
[INFO] 21:06:37.872 Sensor SurefireSensor [java]
[INFO] 21:06:37.875 parsing [/var/jenkins_home/workspace/api_aguide_quarkus_build_3/target/surefire-reports]
[INFO] 21:06:37.941 Sensor SurefireSensor [java] (done) | time=68ms
[INFO] 21:06:37.941 Sensor XML Sensor [xml]
[INFO] 21:06:37.951 1 source file to be analyzed
[INFO] 21:06:38.087 1/1 source file has been analyzed
[INFO] 21:06:38.087 Sensor XML Sensor [xml] (done) | time=146ms
[INFO] 21:06:38.087 Sensor JaCoCo XML Report Importer [jacoco]
[INFO] 21:06:38.088 'sonar.coverage.jacoco.xmlReportPaths' is not defined. Using default locations: target/site/jacoco/jacoco.xml,target/site/jacoco-it/jacoco.xml,build/reports/jacoco/test/jacocoTestReport.xml
[INFO] 21:06:38.090 No report imported, no coverage information will be imported by JaCoCo XML Report Importer
[INFO] 21:06:38.090 Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms
[INFO] 21:06:38.090 Sensor IaC hadolint report Sensor [iac]
[INFO] 21:06:38.091 Sensor IaC hadolint report Sensor [iac] (done) | time=1ms
[INFO] 21:06:38.091 Sensor Java Config Sensor [iac]
[INFO] 21:06:38.097 There are no files to be analyzed for the Java language
[INFO] 21:06:38.097 Sensor Java Config Sensor [iac] (done) | time=6ms
[INFO] 21:06:38.097 Sensor IaC Docker Sensor [iac]
[INFO] 21:06:38.098 There are no files to be analyzed for the Docker language
[INFO] 21:06:38.098 Sensor IaC Docker Sensor [iac] (done) | time=1ms
[INFO] 21:06:38.098 Sensor TextAndSecretsSensor [text]
[INFO] 21:06:38.115 Available processors: 2
[INFO] 21:06:38.115 Using 2 threads for analysis.
[INFO] 21:06:38.400 Start fetching files for the text and secrets analysis
[INFO] 21:06:38.415 Using Git CLI to retrieve untracked files
[INFO] 21:06:38.430 Retrieving language associated files and files included via "sonar.text.inclusions" that are tracked by git
[INFO] 21:06:38.431 Starting the text and secrets analysis
[INFO] 21:06:38.433 10 source files to be analyzed for the text and secrets analysis

[INFO] 21:06:38.458 10/10 source files have been analyzed for the text and secrets analysis
[INFO] 21:06:38.461 Sensor TextAndSecretsSensor [text] (done) | time=363ms
[INFO] 21:06:38.465 ------------- Run sensors on project
[INFO] 21:06:38.611 Sensor JavaProjectSensor [java]
[INFO] 21:06:38.614 Sensor JavaProjectSensor [java] (done) | time=3ms
[INFO] 21:06:38.614 Sensor Zero Coverage Sensor
[INFO] 21:06:38.624 Sensor Zero Coverage Sensor (done) | time=10ms
[INFO] 21:06:38.624 Sensor Java CPD Block Indexer
[INFO] 21:06:38.661 Sensor Java CPD Block Indexer (done) | time=36ms
[INFO] 21:06:38.661 ------------- Gather SCA dependencies on project
[INFO] 21:06:38.666 Dependency analysis skipped
[INFO] 21:06:38.668 SCM Publisher SCM provider for this project is: git
[INFO] 21:06:38.669 SCM Publisher 10 source files to be analyzed
[INFO] 21:06:39.054 SCM Publisher 10/10 source files have been analyzed (done) | time=384ms
[INFO] 21:06:39.058 CPD Executor 1 file had no CPD blocks
[INFO] 21:06:39.058 CPD Executor Calculating CPD for 7 files
[INFO] 21:06:39.071 CPD Executor CPD calculation finished (done) | time=12ms
[INFO] 21:06:39.087 SCM revision ID 'a9bf9487e41a3f2db61e118338737d023c1e4b84'
[INFO] 21:06:39.214 Analysis report generated in 132ms, dir size=320.7 kB
[INFO] 21:06:39.244 Analysis report compressed in 30ms, zip size=59.2 kB
[INFO] 21:06:39.347 Analysis report uploaded in 102ms
[INFO] 21:06:39.350 ANALYSIS SUCCESSFUL, you can find the results at: http://sonarqube:9000/dashboard?id=aguide-api-quarkus
[INFO] 21:06:39.350 Note that you will be able to access the updated dashboard once the server has processed the submitted analysis report
[INFO] 21:06:39.350 More about the report processing at http://sonarqube:9000/api/ce/task?id=6b6f17f5-4247-4131-8588-8bab3c2920a7
[INFO] 21:06:39.370 Analysis total time: 7.644 s
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  40.962 s
[INFO] Finished at: 2026-01-22T21:06:39Z
[INFO] ------------------------------------------------------------------------

[Pipeline] }
[Pipeline] // withSonarQubeEnv
[Pipeline] }
[Pipeline] // script
[Pipeline] echo
‚úÖ An√°lise do SonarQube conclu√≠da!
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Verificar Artefatos)
[Pipeline] echo
üìã Verificando artefatos gerados...
[Pipeline] sh
+ ls -lh target/
total 72K
drwxr-xr-x 4 jenkins jenkins 4.0K Jan 22 21:06 classes
drwxr-xr-x 3 jenkins jenkins 4.0K Jan 22 21:06 generated-sources
drwxr-xr-x 3 jenkins jenkins 4.0K Jan 22 21:06 generated-test-sources
drwxr-xr-x 2 jenkins jenkins 4.0K Jan 22 21:06 maven-archiver
drwxr-xr-x 3 jenkins jenkins 4.0K Jan 22 21:06 maven-status
-rw-r--r-- 1 jenkins jenkins  28K Jan 22 21:06 mobile-rest-api-1.0.0-SNAPSHOT.jar
drwxr-xr-x 3 jenkins jenkins 4.0K Jan 22 21:06 quarkus
drwxr-xr-x 5 jenkins jenkins 4.0K Jan 22 21:06 quarkus-app
-rw-r--r-- 1 jenkins jenkins  187 Jan 22 21:06 quarkus-artifact.properties
drwxr-xr-x 2 jenkins jenkins 4.0K Jan 22 21:06 sonar
drwxr-xr-x 2 jenkins jenkins 4.0K Jan 22 21:06 surefire-reports
drwxr-xr-x 3 jenkins jenkins 4.0K Jan 22 21:06 test-classes
+ ls -lh target/quarkus-app/
total 28K
drwxr-xr-x 2 jenkins jenkins 4.0K Jan 22 21:06 app
drwxr-xr-x 4 jenkins jenkins 4.0K Jan 22 21:06 lib
drwxr-xr-x 2 jenkins jenkins 4.0K Jan 22 21:06 quarkus
-rw-r--r-- 1 jenkins jenkins 8.3K Jan 22 21:06 quarkus-app-dependencies.txt
-rw-r--r-- 1 jenkins jenkins  719 Jan 22 21:06 quarkus-run.jar
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Docker Image)
[Pipeline] echo
üê≥ Construindo imagem Docker...
[Pipeline] sh
+ docker compose -f docker-compose.yml build --no-cache

time="2026-01-22T21:06:41Z" level=warning msg="/var/jenkins_home/workspace/api_aguide_quarkus_build_3/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Image api_aguide_quarkus_build_3-aguide-api Building 
#1 [internal] load local bake definitions

#1 reading from stdin 658B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile.jvm
#2 transferring dockerfile: 5.57kB 0.0s done
#2 DONE 0.1s

#3 [internal] load metadata for registry.access.redhat.com/ubi9/openjdk-21:1.21
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 115B done
#4 DONE 0.0s

#5 [1/5] FROM registry.access.redhat.com/ubi9/openjdk-21:1.21@sha256:fa55b9f126da0d855e3709473e2237ad500f8d8e6a059f99b3ca10cdc2c5de58
#5 CACHED

#6 [internal] load build context

#6 transferring context: 47.24MB 0.7s done
#6 DONE 0.7s

#7 [2/5] COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/
#7 DONE 0.3s

#8 [3/5] COPY --chown=185 target/quarkus-app/*.jar /deployments/
#8 DONE 0.0s

#9 [4/5] COPY --chown=185 target/quarkus-app/app/ /deployments/app/
#9 DONE 0.0s

#10 [5/5] COPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/
#10 DONE 0.0s


#11 exporting to image
#11 exporting layers
#11 exporting layers 0.2s done
#11 writing image sha256:5c6fe664b676efe1da5dff747327978ec51ae58d8db39c82990ce113dea59fc6 0.0s done
#11 naming to docker.io/library/api_aguide_quarkus_build_3-aguide-api done
#11 DONE 0.3s

#12 resolving provenance for metadata file
#12 DONE 0.0s
 Image api_aguide_quarkus_build_3-aguide-api Built 
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy Container)
[Pipeline] echo
üöÄ Fazendo deploy do container...
[Pipeline] sh
+ docker compose -f docker-compose.yml down
time="2026-01-22T21:06:44Z" level=warning msg="/var/jenkins_home/workspace/api_aguide_quarkus_build_3/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
time="2026-01-22T21:06:44Z" level=warning msg="Warning: No resource found to remove for project \"api_aguide_quarkus_build_3\"."
+ docker compose -f docker-compose.yml up -d
time="2026-01-22T21:06:44Z" level=warning msg="/var/jenkins_home/workspace/api_aguide_quarkus_build_3/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
time="2026-01-22T21:06:44Z" level=warning msg="No services to build"
 Container aguide-api Creating 
 Container aguide-api Error response from daemon: Conflict. The container name "/aguide-api" is already in use by container "4aa68896cdc71517e4e9466039c6c89423baa40ec523e2153abf8095c34f192b". You have to remove (or rename) that container to be able to reuse that name. 
Error response from daemon: Conflict. The container name "/aguide-api" is already in use by container "4aa68896cdc71517e4e9466039c6c89423baa40ec523e2153abf8095c34f192b". You have to remove (or rename) that container to be able to reuse that name.
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Cleanup Docker)
Stage "Cleanup Docker" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Verificar Status)
Stage "Verificar Status" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
================================================
[Pipeline] echo
üìä RESUMO DA EXECU√á√ÉO
[Pipeline] echo
================================================
[Pipeline] echo
üÜî Build ID: 15
[Pipeline] echo
üî¢ Build Number: 15
[Pipeline] echo
üìù Job: api_aguide_quarkus_build_3
[Pipeline] echo
üéØ Status: FAILURE
[Pipeline] echo
‚è±Ô∏è  Dura√ß√£o: 1 min 3 sec
[Pipeline] echo
üåø Branch: origin/develop-data-objects
[Pipeline] echo
üìå Commit: a9bf948
[Pipeline] echo
üë®‚Äçüíª Autor: N/A
[Pipeline] echo
‚è∞ Finalizado: Thu Jan 22 21:06:45 UTC 2026
[Pipeline] echo
================================================

[Pipeline] }
[Pipeline] // script
[Pipeline] echo
================================================
[Pipeline] echo
‚ùå PIPELINE FALHOU!
[Pipeline] echo
================================================
[Pipeline] echo
üî¢ Build #15 com erro
[Pipeline] echo
üìã Verificar logs: https://nauto.aguide-ptbr.com.br/job/api_aguide_quarkus_build_3/15/console
[Pipeline] echo
üîç Status: FAILURE
[Pipeline] echo
================================================
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE